[gd_scene load_steps=42 format=3 uid="uid://deyky20kpmop1"]

[ext_resource type="Texture2D" uid="uid://cy2sfp5qmgqp4" path="res://assets/atlas/tile_atlas.png" id="1_qcwij"]
[ext_resource type="Script" path="res://eKey.gd" id="2_anhm2"]
[ext_resource type="Texture2D" uid="uid://cwtnfkq0sixe5" path="res://assets/Generic/eKey.png" id="3_e7bcr"]
[ext_resource type="Script" path="res://door.gd" id="4_y46u0"]
[ext_resource type="Texture2D" uid="uid://cuwedkw0ocmth" path="res://assets/Generic/DoorLeft.png" id="5_o7a5d"]
[ext_resource type="Texture2D" uid="uid://df1n1welywbd3" path="res://assets/Locks/redLock.png" id="6_7uy5k"]
[ext_resource type="Texture2D" uid="uid://f4rmc1m0fyyr" path="res://assets/Generic/DoorRight.png" id="6_cdniw"]
[ext_resource type="Texture2D" uid="uid://cap22dq0ts4e6" path="res://assets/Locks/lockedLock.png" id="8_lonc0"]
[ext_resource type="Texture2D" uid="uid://cuplik3v020y8" path="res://assets/Generic/Chair Left.png" id="9_nj2gh"]
[ext_resource type="Texture2D" uid="uid://daisret7ajaha" path="res://assets/Generic/Chair Front.png" id="10_cjhqc"]
[ext_resource type="Texture2D" uid="uid://dxun60kbhav8f" path="res://assets/Living Area/Lamp.png" id="11_73oa2"]
[ext_resource type="Texture2D" uid="uid://dgpe5jyd4y6ur" path="res://assets/Fire/Fire1.png" id="12_2r1mt"]
[ext_resource type="Texture2D" uid="uid://bcn65ig4tcdqg" path="res://assets/SurfaceTopers/flower pot Tricolor.png" id="12_oh78j"]
[ext_resource type="Texture2D" uid="uid://dbj3t2hvs8k6j" path="res://assets/Fire/Fire2.png" id="13_nl8kv"]
[ext_resource type="Texture2D" uid="uid://cm48lw7akaant" path="res://assets/Fire/Fire3.png" id="14_m5xqf"]
[ext_resource type="Texture2D" uid="uid://edmwi5m26pn1" path="res://assets/Fire/Fire4.png" id="15_gkjqx"]
[ext_resource type="Texture2D" uid="uid://b5a3rooc67ieq" path="res://assets/Fire/Fire5.png" id="16_jkmym"]
[ext_resource type="Texture2D" uid="uid://bxxsca0b5cg4g" path="res://assets/Fire/Fire6.png" id="17_npdcj"]
[ext_resource type="Texture2D" uid="uid://ds3fku0dum00e" path="res://assets/Fire/Fire7.png" id="18_dx8lq"]
[ext_resource type="Script" path="res://startani.gd" id="19_8ahey"]
[ext_resource type="Texture2D" uid="uid://drey38qnxovxa" path="res://assets/Living Area/Couch.png" id="21_ply0d"]
[ext_resource type="Texture2D" uid="uid://clblwqqacubc" path="res://assets/Bathroom/Bathtub/Bathtub Overflow Blood.png" id="22_hrsmk"]
[ext_resource type="Texture2D" uid="uid://byhqje3aufev6" path="res://assets/Bathroom/Bathtub/Bathtub Filled.png" id="22_smgv2"]
[ext_resource type="Texture2D" uid="uid://bj42mhq2yhw70" path="res://assets/Bathroom/Bathtub/Bathtub Filled Blood.png" id="23_d5pjn"]
[ext_resource type="Texture2D" uid="uid://db7i06mer7ibb" path="res://assets/Bathroom/Bathtub/Bathtub Overflow.png" id="25_0ujpe"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_xks0p"]
texture = ExtResource("1_qcwij")
texture_region_size = Vector2i(64, 64)
0:0/0 = 0
1:0/0 = 0
2:0/0 = 0
3:0/0 = 0
4:0/0 = 0
0:1/0 = 0
1:1/0 = 0
2:1/0 = 0
3:1/0 = 0
4:1/0 = 0
0:2/0 = 0
1:2/0 = 0
2:2/0 = 0
3:2/0 = 0
4:2/0 = 0
0:3/0 = 0
1:3/0 = 0
2:3/0 = 0
3:3/0 = 0
4:3/0 = 0
0:4/0 = 0
1:4/0 = 0
2:4/0 = 0
3:4/0 = 0
4:4/0 = 0
0:5/0 = 0
1:5/0 = 0
2:5/0 = 0
3:5/0 = 0
4:5/0 = 0
0:6/0 = 0
1:6/0 = 0
2:6/0 = 0
3:6/0 = 0
4:6/0 = 0
0:7/0 = 0

[sub_resource type="TileSet" id="TileSet_2lou2"]
tile_size = Vector2i(64, 64)
terrain_set_0/mode = 2
terrain_set_0/terrain_0/name = "Terrain 0"
terrain_set_0/terrain_0/color = Color(0.501961, 0, 0.25098, 1)
sources/10 = SubResource("TileSetAtlasSource_xks0p")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_e3kjb"]
size = Vector2(28.5, 54.5)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ku37f"]
size = Vector2(30, 60)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_0hooc"]
size = Vector2(511, 67.25)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_gpvso"]
size = Vector2(64, 1137.5)

[sub_resource type="SpriteFrames" id="SpriteFrames_4fqrv"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("8_lonc0")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_6jqny"]
size = Vector2(30, 20)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_o5a38"]
size = Vector2(33, 12)

[sub_resource type="CircleShape2D" id="CircleShape2D_pdocs"]
radius = 7.07107

[sub_resource type="RectangleShape2D" id="RectangleShape2D_kw7mn"]
size = Vector2(179, 40)

[sub_resource type="SpriteFrames" id="SpriteFrames_l2ymi"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("12_2r1mt")
}, {
"duration": 1.0,
"texture": ExtResource("13_nl8kv")
}, {
"duration": 1.0,
"texture": ExtResource("14_m5xqf")
}, {
"duration": 1.0,
"texture": ExtResource("15_gkjqx")
}, {
"duration": 1.0,
"texture": ExtResource("16_jkmym")
}, {
"duration": 1.0,
"texture": ExtResource("17_npdcj")
}, {
"duration": 1.0,
"texture": ExtResource("18_dx8lq")
}],
"loop": true,
"name": &"default",
"speed": 8.5
}]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_1e5of"]
radius = 13.0
height = 32.0

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_4v6lc"]
height = 84.0

[sub_resource type="CircleShape2D" id="CircleShape2D_lv1py"]
radius = 83.0241

[sub_resource type="SpriteFrames" id="SpriteFrames_uxmkh"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("22_smgv2")
}, {
"duration": 1.0,
"texture": ExtResource("22_smgv2")
}, {
"duration": 1.0,
"texture": ExtResource("22_smgv2")
}, {
"duration": 1.0,
"texture": ExtResource("22_smgv2")
}, {
"duration": 1.0,
"texture": ExtResource("22_smgv2")
}, {
"duration": 1.0,
"texture": ExtResource("23_d5pjn")
}, {
"duration": 1.0,
"texture": ExtResource("23_d5pjn")
}, {
"duration": 1.0,
"texture": ExtResource("23_d5pjn")
}, {
"duration": 1.0,
"texture": ExtResource("22_hrsmk")
}, {
"duration": 1.0,
"texture": ExtResource("22_hrsmk")
}, {
"duration": 1.0,
"texture": ExtResource("23_d5pjn")
}, {
"duration": 1.0,
"texture": ExtResource("22_smgv2")
}, {
"duration": 1.0,
"texture": ExtResource("22_smgv2")
}, {
"duration": 1.0,
"texture": ExtResource("25_0ujpe")
}, {
"duration": 1.0,
"texture": ExtResource("25_0ujpe")
}, {
"duration": 1.0,
"texture": ExtResource("25_0ujpe")
}],
"loop": true,
"name": &"default",
"speed": 25.0
}]

[node name="Room" type="Node2D"]
y_sort_enabled = true

[node name="TileMap" type="TileMap" parent="."]
z_index = -1
texture_filter = 1
tile_set = SubResource("TileSet_2lou2")
format = 2
layer_0/tile_data = PackedInt32Array(-262147, 10, 7, -262146, 10, 7, -262145, 10, 7, -327680, 10, 7, -327679, 10, 7, -327678, 10, 7, -262142, 10, 7, -262143, 10, 7, -262144, 10, 7, -196609, 10, 7, -196610, 10, 7, -196611, 10, 7, -131075, 10, 7, -131074, 10, 7, -131073, 10, 7, -196608, 10, 7, -196607, 10, 7, -196606, 10, 7, -131070, 10, 7, -131071, 10, 7, -131072, 10, 7, -65537, 10, 7, -65538, 10, 7, -65539, 10, 7, -3, 10, 7, -2, 10, 7, -1, 10, 7, -65536, 10, 7, -65535, 10, 7, -65534, 10, 7, 2, 10, 7, 1, 10, 7, 0, 10, 7, 65535, 10, 7, 65534, 10, 7, 65533, 10, 7, 131069, 10, 7, 131070, 10, 7, 131071, 10, 7, 65536, 10, 7, 65537, 10, 7, 65538, 10, 7, 131074, 10, 7, 131073, 10, 7, 131072, 10, 7, 196607, 10, 7, 196606, 10, 7, 196605, 10, 7, 262141, 10, 7, 262142, 10, 7, 262143, 10, 7, 196608, 10, 7, 196609, 10, 7, 196610, 10, 7, 262146, 10, 7, 262145, 10, 7, 262144, 10, 7, 327679, 10, 7, 327678, 10, 7, 327677, 10, 7, -262148, 131082, 6, -196612, 131082, 6, -131076, 131082, 6, -65540, 131082, 6, -4, 131082, 6, 65532, 131082, 6, 131068, 131082, 6, 196604, 131082, 6, 262140, 131082, 6, 327676, 131082, 6, -327677, 262154, 6, -262141, 262154, 6, -196605, 262154, 6, -131069, 262154, 6, -65533, 262154, 6, 3, 262154, 6, 65539, 262154, 6, 131075, 262154, 6, 196611, 262154, 6, 262147, 262154, 6, -458755, 10, 7, -393219, 10, 7, -327683, 10, 7, -458754, 10, 7, -393218, 10, 7, -327682, 10, 7, -458753, 10, 7, -393217, 10, 7, -327681, 10, 7, -524288, 10, 7, -458752, 10, 7, -393216, 10, 7, -524287, 10, 7, -458751, 10, 7, -393215, 10, 7, -524286, 10, 7, -458750, 10, 7, -393214, 10, 7, 393213, 10, 7, 458749, 10, 7, 524285, 10, 7, 393214, 10, 7, 458750, 10, 7, 524286, 10, 7, 393215, 10, 7, 458751, 10, 7, 524287, 10, 7, 327680, 10, 7, 393216, 10, 7, 458752, 10, 7, 327681, 10, 7, 393217, 10, 7, 458753, 10, 7, 327682, 10, 7, 393218, 10, 7, 458754, 10, 7, -327684, 131082, 6, -393220, 131082, 6, -393213, 262154, 6, -458749, 262154, 6, 327683, 262154, 6, 393219, 262154, 6, 393212, 131082, 6, 458748, 131082, 6, -458756, 65546, 6, -524285, 262154, 6, -524291, 196618, 6, -524290, 196618, 6, -524289, 196618, 6, -589824, 196618, 6, -589823, 196618, 6, -589822, 196618, 6, -524292, 10, 6, -589821, 262154, 5, 524291, 196618, 5, 589820, 131082, 5, 458755, 262154, 6, 524284, 131082, 6, 589821, 65546, 6, 589822, 65546, 6, 589823, 65546, 6, 524288, 65546, 6, 524289, 65546, 6, 524290, 65546, 6)

[node name="KeyHint" type="Area2D" parent="."]
z_index = 1
position = Vector2(101, 56)
script = ExtResource("2_anhm2")

[node name="Sprite2D" type="Sprite2D" parent="KeyHint"]
position = Vector2(-270, -536)
scale = Vector2(0.0484032, 0.0403226)
texture = ExtResource("3_e7bcr")

[node name="CollisionShape2D" type="CollisionShape2D" parent="KeyHint"]
position = Vector2(-279, -535)
shape = SubResource("RectangleShape2D_e3kjb")

[node name="H2R" type="Area2D" parent="."]
position = Vector2(-167, -740)
rotation = 0.00791074
script = ExtResource("4_y46u0")
target_scene = "res://room.tscn"
player_pos = Vector2(6, -4)
room_size = Vector2(7, 5)

[node name="LivingDoorCollidor" type="CollisionShape2D" parent="H2R"]
position = Vector2(-5.95088, 259.055)
shape = SubResource("RectangleShape2D_ku37f")
debug_color = Color(0.933333, 0, 0.643137, 0.419608)

[node name="DoorSprite" type="Sprite2D" parent="H2R"]
position = Vector2(-54.9494, 259.443)
texture = ExtResource("5_o7a5d")

[node name="Walls" type="StaticBody2D" parent="."]
visible = false

[node name="Bottom" type="CollisionShape2D" parent="Walls"]
position = Vector2(0, 535)
shape = SubResource("RectangleShape2D_0hooc")

[node name="Left" type="CollisionShape2D" parent="Walls"]
position = Vector2(225, 27.5)
shape = SubResource("RectangleShape2D_gpvso")

[node name="Top" type="CollisionShape2D" parent="Walls"]
position = Vector2(-0.5, -549)
shape = SubResource("RectangleShape2D_0hooc")

[node name="Right" type="CollisionShape2D" parent="Walls"]
position = Vector2(-225, 6.25)
shape = SubResource("RectangleShape2D_gpvso")

[node name="LockedDoorIcon" type="Area2D" parent="."]
z_index = 1
position = Vector2(441, 59)
script = ExtResource("2_anhm2")

[node name="Sprite" type="Sprite2D" parent="LockedDoorIcon"]
position = Vector2(-268.653, -539.137)
scale = Vector2(1.29335, 1.07743)
texture = ExtResource("6_7uy5k")

[node name="DetectionBox" type="CollisionShape2D" parent="LockedDoorIcon"]
position = Vector2(-268.75, -537.25)
shape = SubResource("RectangleShape2D_e3kjb")

[node name="Masterbedroom Door" type="Sprite2D" parent="."]
visibility_layer = 2
y_sort_enabled = true
position = Vector2(225, -481)
scale = Vector2(1.04688, 0.953125)
texture = ExtResource("6_cdniw")

[node name="H2LRKey" type="Area2D" parent="."]
z_index = 1
position = Vector2(111, 694)
script = ExtResource("2_anhm2")

[node name="Sprite2D" type="Sprite2D" parent="H2LRKey"]
position = Vector2(-270, -536)
scale = Vector2(0.0484032, 0.0403226)
texture = ExtResource("3_e7bcr")

[node name="CollisionShape2D" type="CollisionShape2D" parent="H2LRKey"]
position = Vector2(-279, -535)
shape = SubResource("RectangleShape2D_e3kjb")

[node name="H2LRDoor" type="Area2D" parent="."]
position = Vector2(-166, -99)
rotation = 0.00791074
script = ExtResource("4_y46u0")
target_scene = "res://livingroom.tscn"
player_pos = Vector2(4, -1)
room_size = Vector2(6, 4)

[node name="LivingDoorCollidor" type="CollisionShape2D" parent="H2LRDoor"]
position = Vector2(1.05681, 260)
shape = SubResource("RectangleShape2D_ku37f")
debug_color = Color(0.933333, 0, 0.643137, 0.419608)

[node name="DoorSprite" type="Sprite2D" parent="H2LRDoor"]
position = Vector2(-54.9494, 259.443)
texture = ExtResource("5_o7a5d")

[node name="H2KKey" type="Area2D" parent="."]
z_index = 1
position = Vector2(443, 822)
script = ExtResource("2_anhm2")

[node name="KitchenLockCollider" type="CollisionShape2D" parent="H2KKey"]
position = Vector2(-279, -535)
shape = SubResource("RectangleShape2D_e3kjb")

[node name="KitchenLock" type="AnimatedSprite2D" parent="H2KKey"]
position = Vector2(-278, -532)
scale = Vector2(1.5, 1.5)
sprite_frames = SubResource("SpriteFrames_4fqrv")
frame_progress = 0.205771

[node name="H2K" type="Area2D" parent="."]
position = Vector2(281, 32)
rotation = 0.00791074
script = ExtResource("4_y46u0")
target_scene = "res://kitchen.tscn"
player_pos = Vector2(-5, 0)
room_size = Vector2(6, 4)

[node name="LivingDoorCollidor" type="CollisionShape2D" parent="H2K"]
position = Vector2(-114.963, 257.917)
shape = SubResource("RectangleShape2D_ku37f")
debug_color = Color(0.933333, 0, 0.643137, 0.419608)

[node name="DoorSprite" type="Sprite2D" parent="H2K"]
position = Vector2(-54.9494, 259.443)
texture = ExtResource("6_cdniw")

[node name="ChairLeft" type="Sprite2D" parent="."]
position = Vector2(162, -67)
texture = ExtResource("9_nj2gh")

[node name="StaticBody2D" type="StaticBody2D" parent="ChairLeft"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="ChairLeft/StaticBody2D"]
position = Vector2(0, 4)
shape = SubResource("RectangleShape2D_6jqny")

[node name="ChairFront" type="Sprite2D" parent="."]
position = Vector2(76, -503)
texture = ExtResource("10_cjhqc")

[node name="StaticBody2D" type="StaticBody2D" parent="ChairFront"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="ChairFront/StaticBody2D"]
position = Vector2(0.5, 4)
shape = SubResource("RectangleShape2D_o5a38")

[node name="Lamp" type="Sprite2D" parent="."]
position = Vector2(162, -109)
texture = ExtResource("11_73oa2")

[node name="StaticBody2D" type="StaticBody2D" parent="Lamp"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Lamp/StaticBody2D"]
position = Vector2(0, 25)
shape = SubResource("CircleShape2D_pdocs")

[node name="Fire" type="StaticBody2D" parent="."]
y_sort_enabled = true
position = Vector2(-51, -380)

[node name="FireCollidor1" type="CollisionShape2D" parent="Fire"]
position = Vector2(-44, 17)
shape = SubResource("RectangleShape2D_kw7mn")

[node name="FireAnimation11" type="AnimatedSprite2D" parent="Fire"]
position = Vector2(-106, 2)
sprite_frames = SubResource("SpriteFrames_l2ymi")
script = ExtResource("19_8ahey")

[node name="FireAnimation12" type="AnimatedSprite2D" parent="Fire"]
position = Vector2(-62, 12)
sprite_frames = SubResource("SpriteFrames_l2ymi")
script = ExtResource("19_8ahey")

[node name="FireAnimation13" type="AnimatedSprite2D" parent="Fire"]
position = Vector2(-26, 4)
sprite_frames = SubResource("SpriteFrames_l2ymi")
script = ExtResource("19_8ahey")

[node name="FireAnimation14" type="AnimatedSprite2D" parent="Fire"]
position = Vector2(15, 17)
sprite_frames = SubResource("SpriteFrames_l2ymi")
script = ExtResource("19_8ahey")

[node name="FireCollidor2" type="CollisionShape2D" parent="Fire"]
position = Vector2(145, 184)
shape = SubResource("RectangleShape2D_kw7mn")

[node name="FireAnimation15" type="AnimatedSprite2D" parent="Fire"]
position = Vector2(83, 169)
sprite_frames = SubResource("SpriteFrames_l2ymi")
script = ExtResource("19_8ahey")

[node name="FireAnimation16" type="AnimatedSprite2D" parent="Fire"]
position = Vector2(127, 179)
sprite_frames = SubResource("SpriteFrames_l2ymi")
script = ExtResource("19_8ahey")

[node name="FireAnimation17" type="AnimatedSprite2D" parent="Fire"]
position = Vector2(163, 171)
sprite_frames = SubResource("SpriteFrames_l2ymi")
script = ExtResource("19_8ahey")

[node name="FireAnimation18" type="AnimatedSprite2D" parent="Fire"]
position = Vector2(204, 184)
sprite_frames = SubResource("SpriteFrames_l2ymi")
script = ExtResource("19_8ahey")

[node name="Lamp2" type="Sprite2D" parent="."]
position = Vector2(-176, 226)
texture = ExtResource("11_73oa2")

[node name="FlowerPotTricolor" type="Sprite2D" parent="Lamp2"]
position = Vector2(1, 24)
texture = ExtResource("12_oh78j")

[node name="StaticBody2D" type="StaticBody2D" parent="Lamp2"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Lamp2/StaticBody2D"]
position = Vector2(0, 35)
shape = SubResource("CapsuleShape2D_1e5of")

[node name="StaticBody2D" type="StaticBody2D" parent="."]
position = Vector2(-106, -176)
rotation = 3.14159

[node name="Sprite2D" type="Sprite2D" parent="StaticBody2D"]
position = Vector2(25, 52)
texture = ExtResource("21_ply0d")

[node name="CollisionShape2D" type="CollisionShape2D" parent="StaticBody2D"]
position = Vector2(26, 66)
shape = SubResource("CapsuleShape2D_4v6lc")

[node name="Bloody Tub" type="StaticBody2D" parent="."]
position = Vector2(-149, 467)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Bloody Tub"]
shape = SubResource("CircleShape2D_lv1py")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="Bloody Tub"]
sprite_frames = SubResource("SpriteFrames_uxmkh")
frame_progress = 0.0014732
script = ExtResource("19_8ahey")

[connection signal="body_entered" from="KeyHint" to="KeyHint" method="_on_key_hint_body_entered"]
[connection signal="body_exited" from="KeyHint" to="KeyHint" method="_on_body_exited"]
[connection signal="body_entered" from="LockedDoorIcon" to="LockedDoorIcon" method="_on_key_hint_body_entered"]
[connection signal="body_exited" from="LockedDoorIcon" to="LockedDoorIcon" method="_on_body_exited"]
[connection signal="body_entered" from="H2LRKey" to="H2LRKey" method="_on_key_hint_body_entered"]
[connection signal="body_exited" from="H2LRKey" to="H2LRKey" method="_on_body_exited"]
[connection signal="body_entered" from="H2KKey" to="H2KKey" method="_on_key_hint_body_entered"]
[connection signal="body_exited" from="H2KKey" to="H2KKey" method="_on_body_exited"]
